<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Muse',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="你根本不知道你什么都不知道">
<meta property="og:type" content="website">
<meta property="og:title" content="枫の故事">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;page&#x2F;2&#x2F;index.html">
<meta property="og:site_name" content="枫の故事">
<meta property="og:description" content="你根本不知道你什么都不知道">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="dejiang">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>枫の故事</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">枫の故事</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">纸上得来终觉浅，绝知此事要恭行</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<!--
<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
-->
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/06/web%E5%BC%80%E5%8F%91/spring/spring-%E5%AD%A6%E4%B9%A02-%E8%A3%85%E9%85%8D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/06/web%E5%BC%80%E5%8F%91/spring/spring-%E5%AD%A6%E4%B9%A02-%E8%A3%85%E9%85%8D/" class="post-title-link" itemprop="url">[spring 学习2] 装配</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-06 20:50:00" itemprop="dateCreated datePublished" datetime="2019-10-06T20:50:00+08:00">2019-10-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>我们书写的程序中，各个类之间有依赖的，需要手动实例化依赖类再赋给它。既然我们都通过IoC容器自动管理Bean了，每次使用都需要自己管理这样的依赖关系过于繁琐。</p>
<p>于是就有了通过配置文件的方式，使其自动注入依赖的bean。</p>
<p>spring提供3种装配的方式：<code>xml装配</code>，<code>java装配</code>，<code>自动装配</code>。</p>
<blockquote>
<p>相比于<code>xml装配</code>，推荐的是使用<code>java装配</code>。</p>
</blockquote>
<p>通常使用<code>自动装配</code>，减少配置文件。</p>
<h1 id="自动装配"><a href="#自动装配" class="headerlink" title="自动装配"></a>自动装配</h1><p>spring从2个角度实现自动装配：</p>
<ul>
<li><code>组件扫描</code>：spring会自动发现应用上下文中所创建的bean。</li>
<li><code>自动装配</code>：spring自动将满足的bean装配。</li>
</ul>
<h2 id="项目结构"><a href="#项目结构" class="headerlink" title="项目结构"></a>项目结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── build.gradle</span><br><span class="line">└── src&#x2F;</span><br><span class="line">    ├── main&#x2F;</span><br><span class="line">    │   ├── java&#x2F;</span><br><span class="line">    │   │   └── com&#x2F;</span><br><span class="line">    │   │       └── yww&#x2F;</span><br><span class="line">    │   │           ├── Main.java</span><br><span class="line">    │   │           ├── Message.java</span><br><span class="line">    │   │           ├── ReaderConfig.java</span><br><span class="line">    │   │           └── Reader.java</span><br><span class="line">    │   └── resources&#x2F;</span><br><span class="line">    │       └── beans.xml</span><br><span class="line">    └── test&#x2F;</span><br><span class="line">        ├── java&#x2F;</span><br><span class="line">        │   └── com&#x2F;</span><br><span class="line">        │       └── yww&#x2F;</span><br><span class="line">        │           └── MainTest.java</span><br><span class="line">        └── resources&#x2F;</span><br></pre></td></tr></table></figure>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p><code>build.gradle</code>项目构建配置。</p>
<blockquote>
<p>注释的部分是使用插件并直接<code>gradle run</code>命令运行项目。<code>jar{}</code>部分的配置，可以打包成一个用<code>java</code>命令运行的<code>jar</code>包。（注意需要指定好主类的全名）</p>
</blockquote>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">plugins &#123;</span><br><span class="line">    id <span class="string">'java'</span></span><br><span class="line">    <span class="comment">// id 'application'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mainClassName = 'com.yww.Main'</span></span><br><span class="line"><span class="keyword">group</span> <span class="string">'com.yww'</span></span><br><span class="line">version <span class="string">'1.0-SNAPSHOT'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">sourceCompatibility</span> = <span class="number">1.8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">repositories</span> &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ext&#123;</span><br><span class="line">    springVersion = <span class="string">'5.2.0.RELEASE'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-core:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-context:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-beans:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-expression:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-aop:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-aspects:$springVersion"</span></span><br><span class="line"></span><br><span class="line">    testCompile <span class="string">"junit:junit:4.12"</span></span><br><span class="line">    testCompile <span class="string">"org.springframework:spring-test:$springVersion"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">jar &#123;</span><br><span class="line">    <span class="keyword">from</span> &#123;</span><br><span class="line">        <span class="keyword">configurations</span>.<span class="keyword">runtime</span>.<span class="keyword">collect</span>&#123;zipTree(it)&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    manifest &#123;</span><br><span class="line">        attributes <span class="string">'Main-Class'</span>: <span class="string">'com.yww.Main'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Message.java</code>通过使用<code>@Component</code>注解，在组件扫描时，注册bean。</p>
<blockquote>
<p><code>@Value</code>注解简单直接赋值。不同于xml配置文件配置bean这么繁琐。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"---hello world---"</span>)</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.msg = <span class="string">"this mssage is : "</span> + msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Reader.java</code>依赖于<code>Message.java</code>，使用<code>@Autowired</code>注入<code>Message</code>这个bean到<code>Reader</code>中。</p>
<blockquote>
<p>此处可以将<code>@Autowired</code>写在成员变量上，也可写在构造函数上，二者选其一皆可。（构造函数自动连线可以做一些其它操作而已）</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Reader</span> </span>&#123;</span><br><span class="line"><span class="comment">//    @Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Message msg;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Reader</span><span class="params">(Message msg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(msg.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ReaderConfig.java</code>配置文件，主要时用于在获取应用上下文时，设置此类可以完成开启其中的配置。其类名任意。这里主要是开启组件扫描，将默认同包名下带有<code>@Component</code>等注解的类注册为bean。</p>
<blockquote>
<p>习惯上，我们可以在此处做一些配置工作，比如设置初始值，或者如何装配。为了方便，初始值在前面已使用<code>@Value</code>设置。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ComponentScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReaderConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 可以在配置文件中设置初始值</span></span><br><span class="line">    <span class="comment">// 为了方便直接，就在Message的成员上使用@Value设置了值。</span></span><br><span class="line"><span class="comment">//    @Bean</span></span><br><span class="line"><span class="comment">//    public Message message()&#123;</span></span><br><span class="line"><span class="comment">//        Message message = new Message();</span></span><br><span class="line"><span class="comment">//        message.setMsg("---hi---");</span></span><br><span class="line"><span class="comment">//        return message;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Main.java</code>主函数，用于启动应用。这里展示如何获取到有依赖关系，并且按照自动装配好的bean。</p>
<blockquote>
<p>不同于web应用，app需要有个主函数启动应用，常规的web应用会打包成war放入tomcat加载，不过<code>spring boot</code>的web应用也可以有个主函数启动web应用。</p>
<p>代码里注释的部分，是使用<code>xml配置</code>，演示如何获取bean。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.AnnotationConfigApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">// xml配置(beans.xml)</span></span><br><span class="line"><span class="comment">//        ApplicationContext context = new ClassPathXmlApplicationContext("beans.xml");</span></span><br><span class="line"><span class="comment">//        Message msg = (Message) context.getBean("msg1");</span></span><br><span class="line"><span class="comment">//        System.out.println(msg.getMsg());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// java配置(ReaderConfig.java) + 获取组件扫描到的bean</span></span><br><span class="line">        <span class="comment">// 测试文件AppTest.java中，可以通过注解@ContextConfiguration加载配置文件上下文，方便使用@Autowired注解获取Bean。</span></span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(com.yww.ReaderConfig<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        Reader reader = (Reader) context.getBean(Reader<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        reader.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>最后剩下测试文件<code>MainTest.java</code>，这里不多过问，只是可以使用<code>@ContextConfiguration</code>注解获取上下文的bean，在使用<code>@Autowired</code>自动注入bean，方便了测试。</p>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><blockquote>
<p>因为为了简单，项目是非web项目，很少有帖子讲解对此的打包和运行。（web项目就很容易通过添加<code>war</code>插件和<code>gradle build</code>打包）</p>
</blockquote>
<p>运行的方法尝试出了几种：</p>
<ul>
<li><p>方法1：使用idea直接运行<code>main</code>类即可，也可运行测试类<code>MainTest.java</code>。</p>
</li>
<li><p>方法2：使用gradle，需要在<code>build.gradle</code>文件中，添加插件<code>application</code>，并设置好主函数的名称<code>mainClassName</code>。最后在项目根目录下（<code>build.gradle</code>同级目录）执行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle run</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="问题处理"><a href="#问题处理" class="headerlink" title="问题处理"></a>问题处理</h2><blockquote>
<p>在<code>非web</code>应用中，会发现一个问题，无法通过<code>@Autowired</code>获取到bean，这是由于非web应用无法知道bean，也没有提供相应的注解去处理，只能通过<code>ApplicationContext</code>应用上下文获取bean。而bean之间是可以通过<code>@Autowired</code>获取到的。</p>
</blockquote>
<h1 id="java装配"><a href="#java装配" class="headerlink" title="java装配"></a>java装配</h1><p>很多时候，通过组件扫描和自动装配实现自动化配置都是推荐的方式。但如果要将第三方库装配到自己的应用中，就无法使用<code>@Component</code>注解实现自动化装配。</p>
<p>要想显式配置bean，可以在配置文件中使用<code>@Bean</code>获取。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/main/java/com/yww/ReaderConfig.java</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Message <span class="title">message</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Message message = <span class="keyword">new</span> Message();</span><br><span class="line">    message.setMsg(<span class="string">"---hi---"</span>);</span><br><span class="line">    <span class="keyword">return</span> message;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>使用自动装配，不能创建多个同类型的bean。</p>
</blockquote>
<h2 id="Bean更名"><a href="#Bean更名" class="headerlink" title="Bean更名"></a>Bean更名</h2><p>默认bean的ID与<code>@Bean</code>注解的方法名一样的。</p>
<p>可提供<code>name</code>参数设置其它名称。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span>(name=<span class="string">"msgX"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="不使用组件扫描的配置"><a href="#不使用组件扫描的配置" class="headerlink" title="不使用组件扫描的配置"></a>不使用组件扫描的配置</h2><p>如果不使用组件扫描，那么一个配置如何找到另一个配置，或者bean？</p>
<p>此时，可以使用<code>@Import</code>导入那个类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Import;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Import</span>(&#123;MessageConfig<span class="class">.<span class="keyword">class</span>&#125;)</span></span><br><span class="line"><span class="class"><span class="title">public</span> <span class="title">class</span> <span class="title">ReaderConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 可以在配置文件中设置初始值</span></span><br><span class="line">    <span class="comment">// 为了方便直接，就在Message的成员上使用@Value设置了值。</span></span><br><span class="line"><span class="comment">//    @Bean</span></span><br><span class="line"><span class="comment">//    @Bean(name="msgX")</span></span><br><span class="line"><span class="comment">//    public Message message()&#123;</span></span><br><span class="line"><span class="comment">//        Message message = new Message();</span></span><br><span class="line"><span class="comment">//        message.setMsg("---hi---");</span></span><br><span class="line"><span class="comment">//        return message;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 这个bean传入的名称可以任意.</span></span><br><span class="line">    <span class="comment">// 但如果在同一个类里声明了名称，像上面那样指定了名词，这里的参数名也必须相同。</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Reader <span class="title">reader</span><span class="params">(Message msg)</span></span>&#123;</span><br><span class="line">        System.out.println(msg.getMsg());</span><br><span class="line">        msg.setMsg(<span class="string">"---hello---"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Reader(msg);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中，导入的另一个bean的<code>java配置</code>文件如下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/main/java/com/yww/MessageConfig.java</span></span><br><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MessageConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">message</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Message();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="xml装配"><a href="#xml装配" class="headerlink" title="xml装配"></a>xml装配</h1><ul>
<li>gradle app的<code>xml配置</code>放在<code>src/main/resources/</code>目录下。</li>
<li>web的<code>xml配置</code>放在<code>web/WEB-INF/</code>目录下，需要在<code>web.xml</code>中配置<code>&lt;context-param&gt;</code>。</li>
</ul>
<p>配置形如下面这个。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/</span></span></span><br><span class="line"><span class="tag"><span class="string"></span></span></span><br><span class="line"><span class="tag"><span class="string">    &lt;bean id="</span><span class="attr">msg1</span>" <span class="attr">class</span>=<span class="string">"com.yww.Message"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"msg"</span> <span class="attr">value</span>=<span class="string">"hello world"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>如果不给<code>id</code>，将会通过全限定类名来命名，此处的bean将会被命名为<code>com.yww.Message#0</code>，<code>#0</code>是计数同类型的其它bean。</p>
<h2 id="其它设置"><a href="#其它设置" class="headerlink" title="其它设置"></a>其它设置</h2><p>由于不推荐使用<code>xml配置</code>，故只是简单在此记下有哪些配置。</p>
<blockquote>
<p>很多配置有<code>c-命名空间</code>，<code>p-命名空间</code>去替代繁杂的标签。</p>
</blockquote>
<ul>
<li>构造其注入bean引用，注入字符串，数字，列表等。（\<constructor-arg>）</constructor-arg></li>
<li>使用xml配置\<bean>导入JavaConfig配置。</bean></li>
<li><code>&lt;beans&gt;</code>的<code>profile</code>属性。</li>
<li><code>&lt;jdbc&gt;</code>，<code>&lt;jee:jndi-lookup&gt;</code>。</li>
<li><code>&lt;beans&gt;</code>嵌套<code>&lt;beans&gt;</code>。</li>
</ul>
<h1 id="高级装配"><a href="#高级装配" class="headerlink" title="高级装配"></a>高级装配</h1><p>提供更多配置，实现更多装配的控制。</p>
<h2 id="Profile"><a href="#Profile" class="headerlink" title="Profile"></a>Profile</h2><p>通常我们需要配置不同的环境，如：测试环境使用嵌入数据库<code>h2</code>，生产环境使用<code>jndi</code>获取数据库等。</p>
<blockquote>
<p>（从spring4开始）<code>@Profile</code>也是基于<code>@Conditional</code>实现。</p>
</blockquote>
<h3 id="设置配置"><a href="#设置配置" class="headerlink" title="设置配置"></a>设置配置</h3><p>可以使用<code>@Profile</code>注解在<code>类</code>或<code>方法</code>上，去生成Bean。（此处使用<code>JavaConfig</code>配置，也可以使用<code>xml</code>配置）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReaderConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Profile</span>(<span class="string">"dev"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">message1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Message message = <span class="keyword">new</span> Message();</span><br><span class="line">        message.setMsg(<span class="string">"---hi---1"</span>);</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Profile</span>(<span class="string">"prod"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">message2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Message message = <span class="keyword">new</span> Message();</span><br><span class="line">        message.setMsg(<span class="string">"---hi---2"</span>);</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>@PropertySource</code>导入配置文件。</p>
</blockquote>
<h3 id="激活配置"><a href="#激活配置" class="headerlink" title="激活配置"></a>激活配置</h3><p>通过两个属性确定哪个profile激活，<code>spring.profiles.active</code>和<code>spring.profiles.default</code>。</p>
<p>如果设置了<code>active</code>，就用此值确定哪个profile激活。如果没设置<code>active</code>，就用<code>default</code>确定。如果都没设置，只会创建没有定义profile的bean。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#src/main/resources/application.properties</span></span><br><span class="line"><span class="meta">spring.profiles.default</span>=<span class="string">dev</span></span><br><span class="line"><span class="meta">spring.profiles.active</span>=<span class="string">prod</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>在测试类中，可以使用<code>@ActiveProfiles(&quot;dev&quot;)</code>便捷的激活配置。</p>
</blockquote>
<h3 id="其它方式"><a href="#其它方式" class="headerlink" title="其它方式"></a>其它方式</h3><p>有多种方式设置属性：</p>
<ul>
<li>DispatcherServlet的初始化参数。</li>
<li>Web应用的上下文参数。</li>
<li>JNDI条目。</li>
<li>环境变量。</li>
<li>JVM的系统属性。</li>
<li>集成测试类上，使用@ActiveProfiles注解设置。</li>
</ul>
<p>例，<code>web.xml</code>的配置。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>spring.profiles.default<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>dev<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ... --&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="附：配置文件是如何关联的？"><a href="#附：配置文件是如何关联的？" class="headerlink" title="附：配置文件是如何关联的？"></a>附：配置文件是如何关联的？</h3><p>程序如何找到这个<code>.properties</code>文件？</p>
<p>在app项目中，我们通过<code>@PropertySource</code>注解到JavaConfig类上，设置<code>.properties</code>配置文件的路径。</p>
<blockquote>
<p>在gradle项目中，配置文件放在<code>src/main/resources/</code>路径下，还可以放在这个目录下的文件夹。如：<code>src/main/resources/demo/app.properties</code>的设置<code>@PropertySource(&quot;demo/app.properties&quot;)</code>。</p>
</blockquote>
<p>在web项目中，spring web已经将配置文件设置好了，不需要<code>@PropertySource</code>配置。</p>
<h2 id="条件化的Bean"><a href="#条件化的Bean" class="headerlink" title="条件化的Bean"></a>条件化的Bean</h2><p>如果希望实现一个bean只有在应用的类路径下包含特定的库时才创建，或者希望某个bean只有当在另一个特定bean声明之后才会创建，或者在设置了特定的环境变量后才会创建某个bean。</p>
<p>通过<code>@Conditional</code>注解，它可以用于带有<code>@Bean</code>注解的方法上。如果条件计算为true就会创建bean，否则这个bean就会被忽略。</p>
<blockquote>
<p>条件化bean是<code>spring boot</code>自动装配的实现原理。</p>
</blockquote>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>当配置文件中含有”reader”值时，创建bean。</p>
<p><strong>目录结构</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── build.gradle</span><br><span class="line">└── src&#x2F;</span><br><span class="line">    ├── main&#x2F;</span><br><span class="line">    │   ├── java&#x2F;</span><br><span class="line">    │   │   └── com&#x2F;</span><br><span class="line">    │   │       └── yww&#x2F;</span><br><span class="line">    │   │           ├── Main.java</span><br><span class="line">    │   │           ├── Message.java</span><br><span class="line">    │   │           ├── ReaderConfig.java</span><br><span class="line">    │   │           ├── ReaderExistsCondition.java</span><br><span class="line">    │   │           └── Reader.java</span><br><span class="line">    │   └── resources&#x2F;</span><br><span class="line">    │       ├── application.properties</span><br><span class="line">    └── test&#x2F;</span><br><span class="line">        ├── java&#x2F;</span><br><span class="line">        │   └── com&#x2F;</span><br><span class="line">        │       └── yww&#x2F;</span><br><span class="line">        │           └── MainTest.java</span><br><span class="line">        └── resources&#x2F;</span><br></pre></td></tr></table></figure></p>
<p><strong>关键代码</strong></p>
<p>先取消了<code>Reader.java</code>类的<code>@Component</code>注解，方便此处使用条件化方式创建Reader的bean。</p>
<p>设置的条件为<code>ReaderExistsCondition.java</code>，这个类继承接口<code>Condition</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReaderConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">message1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Message message = <span class="keyword">new</span> Message();</span><br><span class="line">        message.setMsg(<span class="string">"---hi---"</span>);</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Conditional</span>(ReaderExistsCondition<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">    <span class="title">public</span> <span class="title">Reader</span> <span class="title">reader</span>(<span class="title">Message</span> <span class="title">message</span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Reader(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>设置的条件为，从配置文件中寻找是否存在名为<code>reader</code>的配置属性，如果方法<code>matches</code>返回true，即会创建被设置条件的bean。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Condition;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.ConditionContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.env.Environment;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.type.AnnotatedTypeMetadata;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReaderExistsCondition</span> <span class="keyword">implements</span> <span class="title">Condition</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(ConditionContext context, AnnotatedTypeMetadata metadata)</span> </span>&#123;</span><br><span class="line">        Environment env = context.getEnvironment();</span><br><span class="line">        <span class="keyword">return</span> env.containsProperty(<span class="string">"reader"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="附：接口Condition"><a href="#附：接口Condition" class="headerlink" title="附：接口Condition"></a>附：接口Condition</h3><p><code>Condition</code>接口源码如下，只包含一个<code>matches</code>方法，如果方法返回<code>true</code>即会满足条件创建bean，<code>false</code>即不会创建。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Condition</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">boolean</span> <span class="title">matches</span><span class="params">(ConditionContext context, AnnotatedTypeMetadata metadata)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>ConditionContext</code>接口可以检查Bean，环境变量，资源，类。</p>
<p><code>AnnotatedTypeMetadata</code>接口能检查带有<code>@Bean</code>注解的方法上还有什么其它注解。</p>
</blockquote>
<h2 id="处理自动装配的歧义性"><a href="#处理自动装配的歧义性" class="headerlink" title="处理自动装配的歧义性"></a>处理自动装配的歧义性</h2><p>当同一个类型有多个bean被创建，组件扫描无法选取来装配。</p>
<blockquote>
<p>spring会抛出<code>NoUniqueBeanDefinitionException</code>。</p>
</blockquote>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p>有2种处理方法：</p>
<ul>
<li>在<code>@Component</code>或<code>@Bean</code>上，使用<code>@Primary</code>注解，在遇到歧义时，选择首选的bean。</li>
<li>在<code>@Autowired</code>或<code>@Inject</code>上，使用<code>@Qualifier</code>限定要注入的bean的<code>ID</code>。当注解到<code>@Component</code>或<code>@Bean</code>时，则是创建自己的限定符（类似于更名bean的ID）。</li>
</ul>
<blockquote>
<p><code>@Qualifier</code>限定名类似于设置标签给bean，spring会装载满足标签的bean。</p>
<p>为了设置多个标签，可以自己定义注解了<code>@Qualifier</code>的接口，用自定义注解作为标签限定。（java 8允许在定义注解上添加<code>@Repeatable</code>实现重复注解,不过Spring的<code>@Qualifier</code>并没有为此添加重复注解功能。）</p>
</blockquote>
<h3 id="附：byName和byType"><a href="#附：byName和byType" class="headerlink" title="附：byName和byType"></a>附：byName和byType</h3><p>一般情况下，虽然创建的bean和注入的参数名不一样（此处的bean名<code>message1</code>和参数名<code>message</code>），但spring会以<code>byType</code>的方式找到类型相同的bean装配好。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReaderConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">message1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Message message = <span class="keyword">new</span> Message();</span><br><span class="line">        message.setMsg(<span class="string">"---hi---1"</span>);</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Reader <span class="title">reader</span><span class="params">(Message message)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Reader(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>但有多个同类型的bean时，就无法依赖<code>byType</code>找到对应的bean，可以通过改变传入的参数名（此处改用参数名<code>message2</code>），采用<code>byName</code>指定bean。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.*;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReaderConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">message1</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Message message = <span class="keyword">new</span> Message();</span><br><span class="line">        message.setMsg(<span class="string">"---hi---1"</span>);</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">message2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        Message message = <span class="keyword">new</span> Message();</span><br><span class="line">        message.setMsg(<span class="string">"---hi---2"</span>);</span><br><span class="line">        <span class="keyword">return</span> message;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Reader <span class="title">reader</span><span class="params">(Message message2)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Reader(message2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="注入外部值"><a href="#注入外部值" class="headerlink" title="注入外部值"></a>注入外部值</h2><p>可以通过3种方式获取环境值：</p>
<ul>
<li>注入并使用<code>Environment</code>。</li>
<li>属性占位符（property placeholder）。</li>
<li>Spring表达式语言<code>SpEL</code>。</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#src/main/resources/application.properties</span></span><br><span class="line"><span class="meta">info.message</span>=<span class="string">this is a message.</span></span><br><span class="line"><span class="meta">info.counter</span>=<span class="string">10</span></span><br></pre></td></tr></table></figure>
<p>Environment：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.env.Environment;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    Environment env;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">        String msgStr = env.getProperty(<span class="string">"info.message"</span>, <span class="string">"this is a msg"</span>);</span><br><span class="line">        <span class="keyword">int</span> msgInt = env.getProperty(<span class="string">"info.counter"</span>, Integer<span class="class">.<span class="keyword">class</span>, 30)</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>属性占位符：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.PropertySource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;info.message&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Spring EL：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.PropertySource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource</span>(<span class="string">"application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"#&#123;systemProperties['info.message']&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/06/web%E5%BC%80%E5%8F%91/spring/spring-proxyMode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/06/web%E5%BC%80%E5%8F%91/spring/spring-proxyMode/" class="post-title-link" itemprop="url">[spring] proxyMode</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-06 18:28:00" itemprop="dateCreated datePublished" datetime="2019-10-06T18:28:00+08:00">2019-10-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h1><p>当我们对设置bean的作用域<code>@Scope</code>时，有个购物车场景，通常我们将商城的bean设为<code>Singleton</code>单例，购物车对于每个用户毫无疑问是单独所有的，设购物车的bean为<code>Session</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope</span>(</span><br><span class="line">        value = WebApplicationContext.SCOPE_SEESION,</span><br><span class="line">        proxyMode = ScopedProxyMode.TARGET_CLASS</span><br><span class="line">)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShoppingCart</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StoreService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> ShoppingCart shoppingCart;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setShoppingCart</span><span class="params">(ShoppingCart shoppingCart)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.shoppingCart = shoppingCart;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>因为<code>StoreService</code>是一个单例的bean，会在Spring应用上下文加载的时候创建。当它创建的时候，Spring会试图将<code>ShoppingCart</code>的bean注入到setShoppingCart()方法中。</p>
<p>但是<code>ShoppingCart</code>的bean是会话作用域的，此时并不存在。直到某个用户进入系统，创建了会话之后，才会出现<code>ShoppingCart</code>实例。</p>
<p>另外，系统中将会有多个<code>ShoppingCart</code>实例：每个用户一个。我们并不想让Spring注入某个固定的<code>ShoppingCart</code>实例到<code>StoreService</code>中。因为每个用户应该持有自己哪个购物车。</p>
<h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><p>通过给<code>@Scope</code>设置<code>proxyMode</code>参数。Spring将不会将实际的<code>ShoppingCart</code>的bean注入到<code>StoreService</code>中。</p>
<p>Spring会注入到一个<code>ShoppingCart</code>的bean的代理。这个代理会暴露与<code>ShoppingCart</code>相同的方法，所以<code>StoreService</code>会认为它就是一个购物车。但是，当<code>StoreService</code>调用<code>ShoppingCart</code>的方法时，代理会对其进行懒解析并将调用委托给会话作用域内真正的<code>ShoppingCart</code>的bean。</p>
<h1 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h1><p><code>ScopedProxyMode.INTERFACES</code>是用于接口的。</p>
<p>具体的类，需要使用<code>ScopedProxyMode.TARGET_CLASS</code>。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/05/web%E5%BC%80%E5%8F%91/spring/spring-PropertySource/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/05/web%E5%BC%80%E5%8F%91/spring/spring-PropertySource/" class="post-title-link" itemprop="url">[spring] @PropertySource</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-05 22:23:00" itemprop="dateCreated datePublished" datetime="2019-10-05T22:23:00+08:00">2019-10-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p><code>@PropertySources</code>注解用于加载配置文件到Spring的环境中。</p>
<p>配置文件如下。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">demo.msg</span>=<span class="string">this is a message.</span></span><br></pre></td></tr></table></figure>
<h2 id="如何引用到配置文件"><a href="#如何引用到配置文件" class="headerlink" title="如何引用到配置文件"></a>如何引用到配置文件</h2><p>在app项目中，我们通过<code>@PropertySource</code>注解到JavaConfig类上，设置<code>.properties</code>配置文件的路径。</p>
<blockquote>
<p>在gradle项目中，配置文件放在<code>src/main/resources/</code>路径下，还可以放在这个目录下的文件夹。如：<code>src/main/resources/demo/app.properties</code>的设置<code>@PropertySource(&quot;demo/app.properties&quot;)</code>。</p>
</blockquote>
<p>在web项目中，spring web已经将配置文件设置好了，不需要<code>@PropertySource</code>配置。</p>
<h2 id="如何使用配置的值"><a href="#如何使用配置的值" class="headerlink" title="如何使用配置的值"></a>如何使用配置的值</h2><p>spring里的许多配置可以在<code>.properties</code>文件中直接配置到。</p>
<p>我们在xml配置，注解等地方需要使用到配置文件的值时，可以使用<code>spring EL</code>语言设置，格式如<code>${x.y.z}</code>。</p>
<h2 id="PropertySource-Value"><a href="#PropertySource-Value" class="headerlink" title="@PropertySource + @Value"></a>@PropertySource + @Value</h2><p>通过在类上设置<code>@PropertySource</code>设置配置文件。</p>
<p>通过在成员变量上设置<code>@Value</code>指定所设置在配置文件中的值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.PropertySource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource</span>(value = <span class="string">"application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;demo.msg&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="PropertySource-ConfigurationProperties"><a href="#PropertySource-ConfigurationProperties" class="headerlink" title="@PropertySource + @ConfigurationProperties"></a>@PropertySource + @ConfigurationProperties</h2><p>通过在类上设置<code>@PropertySource</code>设置配置文件。</p>
<p>在类上设置<code>@ConfigurationProperties</code>自动将配置文件中名称满足的配置值设置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.PropertySource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource</span>(value = <span class="string">"application.properties"</span>)</span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"demo"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>@ConfigurationProperties</code>是<code>spring boot</code>中的类，需要导入相应的库。</p>
</blockquote>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.cnblogs.com/517cn/p/10946213.html" target="_blank" rel="noopener">https://www.cnblogs.com/517cn/p/10946213.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/05/other/%E5%9C%A8vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0jar%E5%BA%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/05/other/%E5%9C%A8vscode%E4%B8%AD%E6%B7%BB%E5%8A%A0jar%E5%BA%93/" class="post-title-link" itemprop="url">在vscode中添加jar库</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-05 21:21:00" itemprop="dateCreated datePublished" datetime="2019-10-05T21:21:00+08:00">2019-10-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/other/" itemprop="url" rel="index">
                    <span itemprop="name">other</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>由于idea是通过<code>.idea/libbraries/xxx.xml</code>中的配置来使idea关联jar库。</p>
<p>直接将idea中的java项目放置vscode中，由于vscode使用自己的配置文件去关联jar库，所以无法运行。</p>
<hr>
<h1 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h1><ul>
<li>因为vscode运行java项目需要它所需的四个配置文件：.setting, .vscode, .project, .classpath，而其它项目创建的java项目肯定没有为vscode设置它需要的配置。所以，为了方便，使用vscode的工具先创建一个空的java项目，以自己的项目名创建(也可以不用)。</li>
<li>快捷键<code>ctrl + shift + p</code>打开命令输入<code>Java: Create Java Project</code>，再输入项目名，即可得到一个空项目所需的配置文件，删除多余的主类即可。</li>
<li>往自己的项目中，放入.setting, .vscode, .project, .classpath文件。</li>
<li>打开<code>.classpath</code>文件，添加行<code>&lt;classpathentry kind=&quot;lib&quot; path=&quot;&lt;jar的路径&gt;&quot; /&gt;</code>，将所需的依赖库jar文件名都添加。</li>
</ul>
<p>注：对<code>.classpath</code>的修改如果不能即刻生效，重启一下vscode即可。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/04/web%E5%BC%80%E5%8F%91/spring/spring-ApplicationContext/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/04/web%E5%BC%80%E5%8F%91/spring/spring-ApplicationContext/" class="post-title-link" itemprop="url">[spring] ApplicationContext</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-04 18:37:00" itemprop="dateCreated datePublished" datetime="2019-10-04T18:37:00+08:00">2019-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ApplicationContext"><a href="#ApplicationContext" class="headerlink" title="ApplicationContext"></a>ApplicationContext</h1><p>在构建非web应用时，发现了些问题，比如理所当然的使用<code>@Autowired</code>在主函数想要获取bean，却失败了，得到了<code>null</code>。</p>
<p>这是非web应用的细节问题，了解这些可以帮助构建一个非web应用，也可以帮助处理掉《spring实战》源码的运行。</p>
<h2 id="app如何获取bean"><a href="#app如何获取bean" class="headerlink" title="app如何获取bean"></a>app如何获取bean</h2><p>在<code>非web</code>应用中，会发现一个问题，无法通过<code>@Autowired</code>获取到bean，这是由于非web应用无法知道bean，也没有提供相应的注解去处理，只能通过<code>ApplicationContext</code>应用上下文获取bean。而bean之间是可以通过<code>@Autowired</code>获取到的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(com.example.DemoConfig<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">A a = (A) context.getBean(A<span class="class">.<span class="keyword">class</span>)</span>;</span><br></pre></td></tr></table></figure>
<h2 id="web中为何能使用"><a href="#web中为何能使用" class="headerlink" title="web中为何能使用"></a>web中为何能使用</h2><p>相应的<code>web</code>应用中，我们通常使用<code>spring mvc</code>的<code>@Controller</code>去操作，而这已经是被封装过的了，对每个控制器实则是在写<code>控制器bean</code>。（源码<code>HandlerMethod.class</code>的<code>createWithResolvedBean</code>方法中<code>getBean</code>操作展示了出来）<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> HandlerMethod <span class="title">createWithResolvedBean</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Object handler = <span class="keyword">this</span>.bean;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.bean <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">        Assert.state(<span class="keyword">this</span>.beanFactory != <span class="keyword">null</span>, <span class="string">"Cannot resolve bean name without BeanFactory"</span>);</span><br><span class="line">        String beanName = (String) <span class="keyword">this</span>.bean;</span><br><span class="line">        handler = <span class="keyword">this</span>.beanFactory.getBean(beanName);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> HandlerMethod(<span class="keyword">this</span>, handler);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>组件扫描也是，需要通过设配置文件（xml配置或java配置）到<code>ApplicationContext</code>中，从上下文获取其它组件扫描到的bean。</p>
<blockquote>
<p>组件扫描的测试却可用<code>@ContextConfiguration</code>设置配置文件，从而处于可以直接使用<code>@Autowired</code>的上下文环境。</p>
</blockquote>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>HandlerMethod 331行 : <a href="https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/method/HandlerMethod.java" target="_blank" rel="noopener">https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/web/method/HandlerMethod.java</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/04/other/gradle%E6%89%93%E5%8C%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/04/other/gradle%E6%89%93%E5%8C%85/" class="post-title-link" itemprop="url">gradle打包</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-04 18:09:00" itemprop="dateCreated datePublished" datetime="2019-10-04T18:09:00+08:00">2019-10-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/other/" itemprop="url" rel="index">
                    <span itemprop="name">other</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="非web应用"><a href="#非web应用" class="headerlink" title="非web应用"></a>非web应用</h1><blockquote>
<p>非web项目，很少有帖子讲解对此的打包和运行。（web项目就很容易通过添加<code>war</code>插件和<code>gradle build</code>打包）</p>
</blockquote>
<p>运行的方法尝试出了几种。</p>
<h2 id="idead中直接运行"><a href="#idead中直接运行" class="headerlink" title="idead中直接运行"></a>idead中直接运行</h2><p>使用idea直接运行<code>main</code>类即可。</p>
<h2 id="使用插件"><a href="#使用插件" class="headerlink" title="使用插件"></a>使用插件</h2><p>使用gradle，需要在<code>build.gradle</code>文件中，添加插件<code>application</code>，并设置好主函数的名称<code>mainClassName</code>。最后在项目根目录下（<code>build.gradle</code>同级目录）执行命令：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle run</span><br></pre></td></tr></table></figure></p>
<h2 id="打包成多个jar文件"><a href="#打包成多个jar文件" class="headerlink" title="打包成多个jar文件"></a>打包成多个jar文件</h2><p>依然需要上一步的<code>application</code>插件和<code>mainClassName</code>配置，然后执行命令下载依赖库并发布：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle install</span><br></pre></td></tr></table></figure></p>
<p>打开<code>build/install/项目名/</code>目录可以看到两个文件夹<code>bin/</code>和<code>lib/</code>，lib目录下是打包好的项目jar包和其它添加的依赖包，bin目录下是配置好的sh脚本，方便直接运行。</p>
<blockquote>
<p>这个sh脚本主要就是获取了lib的路径，将里面的所有jar包的路径都记录下，然后执行命令<code>java -classpath 绝对路径/lib/xxx.jar:绝对路径/lib/yyy.jar com.yww.Main</code>运行。</p>
</blockquote>
<h2 id="打包成单个jar文件"><a href="#打包成单个jar文件" class="headerlink" title="打包成单个jar文件"></a>打包成单个jar文件</h2><p>上一个方法打包出来，自己的项目打包的jar和依赖的jar都零散的堆在文件夹中，运行时，还需要指定所有的jar包路径<code>-classpath</code>，十分麻烦。找到在<code>build.gradle</code>配置打包方式，且不需要插件<code>application</code>和<code>mainClassName</code>配置。<br><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">jar &#123;</span><br><span class="line">    <span class="keyword">from</span> &#123;</span><br><span class="line">        <span class="keyword">configurations</span>.<span class="keyword">runtime</span>.<span class="keyword">collect</span>&#123;zipTree(it)&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    manifest &#123;</span><br><span class="line">        attributes <span class="string">'Main-Class'</span>: <span class="string">'com.yww.Main'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>找到目录<code>build/lib/</code>执行命令运行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar demo.jar</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>发现idea中可直接打包成单个文件，输出到<code>out/</code>目录下，但运行的方式不太一样，找不到主类，需要执行命令<code>java -classpath demo.jar com.yww.Main</code>运行。</p>
</blockquote>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul>
<li><a href="https://docs.gradle.org/current/userguide/building_java_projects.html" target="_blank" rel="noopener">https://docs.gradle.org/current/userguide/building_java_projects.html</a></li>
<li><a href="https://www.jianshu.com/p/5bb1e87df15f" target="_blank" rel="noopener">https://www.jianshu.com/p/5bb1e87df15f</a></li>
<li><a href="https://www.cnblogs.com/basenet855x/p/4302909.html" target="_blank" rel="noopener">https://www.cnblogs.com/basenet855x/p/4302909.html</a></li>
<li><a href="https://my.oschina.net/u/2505383/blog/677301" target="_blank" rel="noopener">https://my.oschina.net/u/2505383/blog/677301</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/03/web%E5%BC%80%E5%8F%91/spring/spring-%E5%AD%A6%E4%B9%A01-IoC%E5%AE%B9%E5%99%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/03/web%E5%BC%80%E5%8F%91/spring/spring-%E5%AD%A6%E4%B9%A01-IoC%E5%AE%B9%E5%99%A8/" class="post-title-link" itemprop="url">[spring 学习1] IoC容器</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-03 17:45:00" itemprop="dateCreated datePublished" datetime="2019-10-03T17:45:00+08:00">2019-10-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h1><p><code>@PropertySources</code>注解用于加载配置文件到Spring的环境中。</p>
<p>配置文件如下。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">demo.msg</span>=<span class="string">this is a message.</span></span><br></pre></td></tr></table></figure>
<h2 id="如何引用到配置文件"><a href="#如何引用到配置文件" class="headerlink" title="如何引用到配置文件"></a>如何引用到配置文件</h2><p>在app项目中，我们通过<code>@PropertySource</code>注解到JavaConfig类上，设置<code>.properties</code>配置文件的路径。</p>
<blockquote>
<p>在gradle项目中，配置文件放在<code>src/main/resources/</code>路径下，还可以放在这个目录下的文件夹。如：<code>src/main/resources/demo/app.properties</code>的设置<code>@PropertySource(&quot;demo/app.properties&quot;)</code>。</p>
</blockquote>
<p>在web项目中，spring web已经将配置文件设置好了，不需要<code>@PropertySource</code>配置。</p>
<h2 id="如何使用配置的值"><a href="#如何使用配置的值" class="headerlink" title="如何使用配置的值"></a>如何使用配置的值</h2><p>spring里的许多配置可以在<code>.properties</code>文件中直接配置到。</p>
<p>我们在xml配置，注解等地方需要使用到配置文件的值时，可以使用<code>spring EL</code>语言设置，格式如<code>${x.y.z}</code>。</p>
<h2 id="PropertySource-Value"><a href="#PropertySource-Value" class="headerlink" title="@PropertySource + @Value"></a>@PropertySource + @Value</h2><p>通过在类上设置<code>@PropertySource</code>设置配置文件。</p>
<p>通过在成员变量上设置<code>@Value</code>指定所设置在配置文件中的值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.PropertySource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource</span>(value = <span class="string">"application.properties"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"$&#123;demo.msg&#125;"</span>)</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="PropertySource-ConfigurationProperties"><a href="#PropertySource-ConfigurationProperties" class="headerlink" title="@PropertySource + @ConfigurationProperties"></a>@PropertySource + @ConfigurationProperties</h2><p>通过在类上设置<code>@PropertySource</code>设置配置文件。</p>
<p>在类上设置<code>@ConfigurationProperties</code>自动将配置文件中名称满足的配置值设置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.PropertySource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@PropertySource</span>(value = <span class="string">"application.properties"</span>)</span><br><span class="line"><span class="meta">@ConfigurationProperties</span>(prefix = <span class="string">"demo"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>@ConfigurationProperties</code>是<code>spring boot</code>中的类，需要导入相应的库。</p>
</blockquote>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.cnblogs.com/517cn/p/10946213.html" target="_blank" rel="noopener">https://www.cnblogs.com/517cn/p/10946213.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/03/web%E5%BC%80%E5%8F%91/spring/spring-spring%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/03/web%E5%BC%80%E5%8F%91/spring/spring-spring%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B/" class="post-title-link" itemprop="url">[spring] spring快速开始</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-03 14:18:00" itemprop="dateCreated datePublished" datetime="2019-10-03T14:18:00+08:00">2019-10-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/spring/" itemprop="url" rel="index">
                    <span itemprop="name">spring</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="开始spring应用"><a href="#开始spring应用" class="headerlink" title="开始spring应用"></a>开始spring应用</h1><h2 id="创建app项目"><a href="#创建app项目" class="headerlink" title="创建app项目"></a>创建app项目</h2><p>创建java application项目，设目录结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── lib&#x2F;</span><br><span class="line">│   ├── commons-logging-1.2.jar</span><br><span class="line">│   ├── spring-aop-5.1.9.RELEASE.jar</span><br><span class="line">│   ├── spring-aspects-5.1.9.RELEASE.jar</span><br><span class="line">│   ├── spring-beans-5.1.9.RELEASE.jar</span><br><span class="line">│   ├── spring-context-5.1.9.RELEASE.jar</span><br><span class="line">│   ├── spring-core-5.1.9.RELEASE.jar</span><br><span class="line">│   └── spring-expression-5.1.9.RELEASE.jar</span><br><span class="line">└── src&#x2F;</span><br><span class="line">    ├── beans.xml</span><br><span class="line">    ├── Main.java</span><br><span class="line">    └── Message.java</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>beans.xml</code>文件名可以任意，后面是通过传递xml名称给<code>ApplicationContext</code>类查找的。</p>
</blockquote>
<h2 id="添加库"><a href="#添加库" class="headerlink" title="添加库"></a>添加库</h2><p>先从官网下载spring库：<a href="https://repo.spring.io/release/org/springframework/spring/" target="_blank" rel="noopener">https://repo.spring.io/release/org/springframework/spring/</a> </p>
<p>使用ide添加(add as library)以下几个常用到的spring库（aop、aspects是使用切面时需要的）：</p>
<ul>
<li>core</li>
<li>context</li>
<li>beans</li>
<li>expression</li>
<li>aop</li>
<li>aspects</li>
</ul>
<p>由于spring需要common logging库，官网下载：<a href="http://commons.apache.org/proper/commons-logging/download_logging.cgi" target="_blank" rel="noopener">http://commons.apache.org/proper/commons-logging/download_logging.cgi</a></p>
<p>添加到ide中：</p>
<ul>
<li>common logging</li>
</ul>
<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>添加java类，作为bean。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/Message.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.msg = <span class="string">"this mssage is : "</span> + msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>添加xml文件，配置bean。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--src/beans.xml--&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"msg1"</span> <span class="attr">class</span>=<span class="string">"Message"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"msg"</span> <span class="attr">value</span>=<span class="string">"hello world"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>添加java类，作为主类，从xml配置文件中，获取bean。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/Main.java</span></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">        Message msg = (Message) context.getBean(<span class="string">"msg1"</span>);</span><br><span class="line">        System.out.println(msg.getMsg());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>运行主类。</p>
<hr>
<h1 id="开始spring网页"><a href="#开始spring网页" class="headerlink" title="开始spring网页"></a>开始spring网页</h1><h2 id="创建web项目"><a href="#创建web项目" class="headerlink" title="创建web项目"></a>创建web项目</h2><blockquote>
<p>直接使用idea创建web项目向导，可减少一些idea的配置，这是没必要的学习成本。</p>
</blockquote>
<p>New Project -&gt; Java Enterprise -&gt; Web Application</p>
<blockquote>
<p>也可直接选Spring里的配置，这将会自动下载配置好一些需要的spring库。</p>
</blockquote>
<p>目录结构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── lib&#x2F;</span><br><span class="line">│   ├── aopalliance-1.0.jar</span><br><span class="line">│   ├── commons-logging-1.2.jar</span><br><span class="line">│   ├── spring-aop-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-aspects-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-beans-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-context-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-context-support-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-core-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-expression-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-instrument-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-instrument-tomcat-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-jdbc-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-jms-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-messaging-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-orm-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-oxm-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-test-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-tx-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-web-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-webmvc-4.3.18.RELEASE.jar</span><br><span class="line">│   ├── spring-webmvc-portlet-4.3.18.RELEASE.jar</span><br><span class="line">│   └── spring-websocket-4.3.18.RELEASE.jar</span><br><span class="line">├── src&#x2F;</span><br><span class="line">│   └── main&#x2F;</span><br><span class="line">│       └── java&#x2F;</span><br><span class="line">│           └── com&#x2F;</span><br><span class="line">│               └── yww&#x2F;</span><br><span class="line">│                   ├── HomeController.java</span><br><span class="line">│                   └── Message.java</span><br><span class="line">└── web&#x2F;</span><br><span class="line">    ├── index.jsp</span><br><span class="line">    └── WEB-INF&#x2F;</span><br><span class="line">        ├── applicationContext.xml</span><br><span class="line">        ├── dispatcher-servlet.xml</span><br><span class="line">        ├── jsp&#x2F;</span><br><span class="line">        │   └── home.jsp</span><br><span class="line">        └── web.xml</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>com.yww.HomeController.java</code>是自己创建的控制器，做项目时，应归到一个controller文件夹便于管理。<br><code>applicationContext.xml</code>文件不是必须的，用来配置bean，可以在<code>web.xml</code>中除去这部分不想要的<code>&lt;context-param&gt;</code>。<br><code>applicationContext.xml</code>文件中可以配置<code>bean</code>，因其在<code>web.xml</code>文件中<code>&lt;context-param&gt;</code>标签下配置好了这个文件，故不必像前面app项目中，使用<code>ClassPathXmlApplicationContext</code>的一系列上下文获取<code>bean的xml配置文件</code>，再去获取<code>bean</code>。</p>
</blockquote>
<h2 id="添加库-1"><a href="#添加库-1" class="headerlink" title="添加库"></a>添加库</h2><blockquote>
<p>为了使用java ee，需安装idea企业版。</p>
<p>相比应用，网页需要添加web、webmvc库。</p>
</blockquote>
<p>添加库到lib文件夹：</p>
<ul>
<li>common logging</li>
<li>core</li>
<li>context</li>
<li>beans</li>
<li>expression</li>
<li>aop</li>
<li>aspects</li>
<li>web</li>
<li>webmvc</li>
</ul>
<p>选取所有库，右键<code>add as library</code>。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul>
<li><p>设置代码路径：File -&gt; Project Structure -&gt; Modules -&gt; 右键选中项目路径src/main/java/，选择Sources。</p>
</li>
<li><p>配置输出：File -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; Web Application:Exploded -&gt; From Modules…</p>
</li>
<li><p>修复问题（打包时添加lib）：File -&gt; Project Structure -&gt; Problems -&gt; Fix，就会自动添加修复。</p>
</li>
<li><p>为了直接在idea中运行调试，配置idea的tomcat：Run -&gt; Edit Configurations… -&gt; + -&gt; Tomcat Server -&gt; local -&gt; Application server的Configure… -&gt; Tomcat_Home选择自己下载的Tomcat的目录。</p>
</li>
<li><p>将<code>web.xml</code>中<code>&lt;url-pattern&gt;*.form&lt;/url-pattern&gt;</code>改为<code>&lt;url-pattern&gt;/&lt;/url-pattern&gt;</code>，否则只会拦截<code>*.form</code>结尾的请求。</p>
</li>
</ul>
<p>如果需要部署到自己的tomcat服务器上，需要配置打包为war的配置。</p>
<ul>
<li>打包war配置：File -&gt; Project Structure -&gt; Artifacts -&gt; + -&gt; Web Application:Archive -&gt; From ‘xxx’，从之前的Exploded打包成war。</li>
<li>打包war：Build -&gt; Build Artifacts… -&gt; xxx archive -&gt; build。</li>
</ul>
<blockquote>
<p>在<code>Project Structure</code> -&gt; <code>Artifacts</code>的配置时，先创建<code>Web Application:Exploded</code>（因为可以从Modules中生成），再创建<code>Web Application:Archive</code>（因为可以直接从Exploded中生成）。</p>
</blockquote>
<h2 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h2><p>tomcat会读取web.xml进行配置，其中包含了spring的DispatcherServlet路径处理的servlet。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- web/WEB-INF/web.xml --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"4.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>/WEB-INF/applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcher<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcher<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--        &lt;url-pattern&gt;*.form&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>配置，开启组件扫描，配置view视图解析器解析的前后缀。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- web/WEB-INF/dispatcher-servlet.xml --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.yww"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>配置bean，将<code>Message.java</code>类放入<code>com/yww/</code>目录下，配置bean的文件<code>applicationContext.xml</code>。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- src/main/webapp/WEB-INF/applicationContext.xml --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"msg1"</span> <span class="attr">class</span>=<span class="string">"Message"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"msg"</span> <span class="attr">value</span>=<span class="string">"hello world"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>作为bean的Message类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/main/java/com/yww/Message.java</span></span><br><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getMsg</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMsg</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.msg = <span class="string">"this mssage is : "</span> + msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>控制器，设置请求的路径映射，返回渲染的视图名称的字符串，spring会自动使用上面的xml配置指定的后缀.jsp添加后，寻找符合的jsp文件（如此处的home.jsp）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/main/java/com/yww/HomeController.java</span></span><br><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.ModelMap;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/home"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HomeController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.GET)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">printHome</span><span class="params">(ModelMap model)</span></span>&#123;</span><br><span class="line">        model.addAttribute(<span class="string">"msg"</span>, <span class="string">"this is a page!"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"home"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>渲染视图，通过控制器返回的字符串查找匹配的视图。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- web/WEB-INF/jsp/home.jsp --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>$&#123;msg&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><p>配置了idea中的tomcat配置，即可直接点击运行按钮运行，在浏览器中输入：<a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a> 或者 <a href="http://localhost:8080/home" target="_blank" rel="noopener">http://localhost:8080/home</a> ，即可查看。</p>
<p>或配置了打包war，先将war放在<code>tomcat目录/webapps/</code>下，再手动运行<code>tomcat目录/bin/startup.sh</code>启动tomcat，tomcat会自动部署该web应用，最后打开浏览器输入：<a href="http://localhost:8080/" target="_blank" rel="noopener">http://localhost:8080/</a> 。</p>
<hr>
<h1 id="Maven快速开始"><a href="#Maven快速开始" class="headerlink" title="Maven快速开始"></a>Maven快速开始</h1><h2 id="创建maven的spring项目"><a href="#创建maven的spring项目" class="headerlink" title="创建maven的spring项目"></a>创建maven的spring项目</h2><p>下载Maven，使用命令创建webapp：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn archetype:generate -DarchetypeArtactId=<span class="string">"maven-archetype-webapp"</span> -DarchetypeGroupId=<span class="string">"org.apache.maven.archetypes"</span> -DarchetypeVersion=<span class="string">"1.4"</span></span><br></pre></td></tr></table></figure></p>
<p>目录结构：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── pom.xml</span><br><span class="line">└── src&#x2F;</span><br><span class="line">    └── main&#x2F;</span><br><span class="line">        ├── java&#x2F;</span><br><span class="line">        │   └── com&#x2F;</span><br><span class="line">        │       └── yww&#x2F;</span><br><span class="line">        │           ├── HomeController.java</span><br><span class="line">        │           └── Message.java</span><br><span class="line">        ├── resources&#x2F;</span><br><span class="line">        └── webapp&#x2F;</span><br><span class="line">            ├── index.jsp</span><br><span class="line">            └── WEB-INF&#x2F;</span><br><span class="line">                ├── applicationContext.xml</span><br><span class="line">                ├── dispatcher-servlet.xml</span><br><span class="line">                ├── jsp&#x2F;</span><br><span class="line">                │   └── home.jsp</span><br><span class="line">                └── web.xml</span><br></pre></td></tr></table></figure></p>
<h2 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h2><blockquote>
<p>其它的文件都同不使用maven管理项目的一样，只是目录结构有所不同。</p>
</blockquote>
<p>pom.xml是maven的配置文件。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- pom.xml --&gt;</span></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span> <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.yww<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>demo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>demo Maven Webapp<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- FIXME change it to the project's website --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://www.example.com<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.source</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">maven.compiler.target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">maven.compiler.target</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-expression<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.0.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>此处将<code>&lt;build&gt;</code>的所有<code>&lt;plugin&gt;</code>删除了，也可以正常打包构建项目。</p>
<p>不同与之前的bean.xml配置文件，这里需要使用包名限定。</p>
</blockquote>
<p><code>web.xml</code>文件同之前配置。</p>
<p>控制器中获取bean（自动连线需要导Autowired包）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yww;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Controller;</span><br><span class="line"><span class="keyword">import</span> org.springframework.ui.ModelMap;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/home"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HomeController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> Message msg1;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping</span>(method = RequestMethod.GET)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">printHome</span><span class="params">(ModelMap model)</span></span>&#123;</span><br><span class="line">        String str1 = msg1.getMsg();</span><br><span class="line">        model.addAttribute(<span class="string">"msg"</span>, <span class="string">"this is a page! gradle "</span> + str1);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"home"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="打包运行"><a href="#打包运行" class="headerlink" title="打包运行"></a>打包运行</h2><p>在与pom.xml同级目录下，使用命令下载依赖的库并打包成war：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install</span><br></pre></td></tr></table></figure></p>
<p>将<code>target/</code>目录下的war文件放入<code>tomcat/webapps/</code>中运行。</p>
<hr>
<h1 id="Gradle快速开始"><a href="#Gradle快速开始" class="headerlink" title="Gradle快速开始"></a>Gradle快速开始</h1><h2 id="创建gradle目录结构"><a href="#创建gradle目录结构" class="headerlink" title="创建gradle目录结构"></a>创建gradle目录结构</h2><p>下载Gradle，执行命令创建web项目：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle init</span><br></pre></td></tr></table></figure></p>
<p>目录结构：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── build.gradle</span><br><span class="line">└── src&#x2F;</span><br><span class="line">    └── main&#x2F;</span><br><span class="line">        ├── java&#x2F;</span><br><span class="line">        │   └── com&#x2F;</span><br><span class="line">        │       └── yww&#x2F;</span><br><span class="line">        │           ├── HomeController.java</span><br><span class="line">        │           └── Message.java</span><br><span class="line">        ├── resources&#x2F;</span><br><span class="line">        │   └── application.properties</span><br><span class="line">        └── webapp&#x2F;</span><br><span class="line">            ├── index.jsp</span><br><span class="line">            └── WEB-INF&#x2F;</span><br><span class="line">                ├── applicationContext.xml</span><br><span class="line">                ├── dispatcher-servlet.xml</span><br><span class="line">                ├── jsp&#x2F;</span><br><span class="line">                │   └── home.jsp</span><br><span class="line">                └── web.xml</span><br></pre></td></tr></table></figure></p>
<h2 id="代码-3"><a href="#代码-3" class="headerlink" title="代码"></a>代码</h2><blockquote>
<p>未列出的代码皆同上。</p>
</blockquote>
<p>build.gradle是gradle管理项目的配置文件。</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// build.gradle</span></span><br><span class="line">plugins &#123;</span><br><span class="line">	id <span class="string">'java'</span></span><br><span class="line">    id <span class="string">'war'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">group</span> = <span class="string">'com.yww'</span></span><br><span class="line">version = <span class="string">'0.0.1-SNAPSHOT'</span></span><br><span class="line"><span class="keyword">sourceCompatibility</span> = <span class="number">1.8</span></span><br><span class="line"><span class="keyword">targetCompatibility</span> = <span class="number">1.8</span></span><br><span class="line"></span><br><span class="line">ext&#123;</span><br><span class="line">    springVersion = <span class="string">'5.2.0.RELEASE'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">repositories</span> &#123;</span><br><span class="line">	mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">dependencies</span> &#123;</span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-core:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-context:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-beans:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-expression:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-aop:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-aspects:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-web:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-webmvc:$springVersion"</span></span><br><span class="line"></span><br><span class="line">	testCompile <span class="string">"junit:junit:4.12"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="string">"org.springframework:spring-jdbc:$springVersion"</span></span><br><span class="line">    <span class="keyword">compile</span> <span class="keyword">group</span>: <span class="string">'mysql'</span>, name: <span class="string">'mysql-connector-java'</span>, version: <span class="string">'8.0.15'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="打包运行-1"><a href="#打包运行-1" class="headerlink" title="打包运行"></a>打包运行</h2><p>在与build.gradle同级目录下，执行命令构建打包war：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradle build</span><br></pre></td></tr></table></figure></p>
<p>将<code>build/lib/</code>目录下的<code>war</code>文件放入tomcat运行。</p>
<hr>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/10/01/note/paper-list/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/10/01/note/paper-list/" class="post-title-link" itemprop="url">paper list</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-10-01 00:00:00" itemprop="dateCreated datePublished" datetime="2019-10-01T00:00:00+08:00">2019-10-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 17:34:23" itemprop="dateModified" datetime="2019-12-26T17:34:23+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="1-基础网络"><a href="#1-基础网络" class="headerlink" title="1.基础网络"></a>1.基础网络</h1><h2 id="ImageNet"><a href="#ImageNet" class="headerlink" title="ImageNet"></a>ImageNet</h2><div class="table-container">
<table>
<thead>
<tr>
<th>net</th>
<th>year</th>
<th>detail</th>
<th>download</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>LetNet</strong></td>
<td><code>IEEE 1998</code></td>
<td><em>Gradient-Based Learning Applied to Document Recognition</em></td>
<td><a href="https://ieeexplore.ieee.org/document/726791" target="_blank" rel="noopener">pdf</a></td>
<td>CNN开山之作，手写体识别。</td>
</tr>
<tr>
<td><strong>AlexNet</strong></td>
<td><code>ILSVRC 2012</code></td>
<td><em>ImageNet Classification with Deep Convolutional Neural Networks</em></td>
<td><a href="http://papers.nips.cc/paper/4824-imagenet-classification-with-deep-convolutional-neural-networks.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>ILSVRC 2012冠军，促进CNN发展。</td>
</tr>
<tr>
<td><strong>VGGNet</strong></td>
<td><code>ICLR 2015</code></td>
<td><em>VERY DEEP CONVOLUTIONAL NETWORKS FOR LARGE-SCALE IMAGE RECOGNITION</em></td>
<td><a href="https://arxiv.org/pdf/1409.1556.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>创建非常深的网络。</td>
</tr>
<tr>
<td><strong>Inception</strong></td>
<td><code>CVPR 2015</code></td>
<td><em>Going Deeper with Convolutions</em></td>
<td><a href="https://www.cv-foundation.org/openaccess/content_cvpr_2015/papers/Szegedy_Going_Deeper_With_2015_CVPR_paper.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>google设计，2014年的ImageNet冠军。</td>
</tr>
<tr>
<td><strong>ResNet</strong></td>
<td><code>CVPR 2015</code></td>
<td><em>Deep Residual Learning for Image Recognition</em></td>
<td><a href="https://arxiv.org/pdf/1512.03385.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>连接前后信息，可以训练更深的网络。</td>
</tr>
<tr>
<td><strong>DenseNet</strong></td>
<td><code>CVPR 2017</code></td>
<td><em>Densely Connected Convolutional Networks</em></td>
<td><a href="https://arxiv.org/pdf/1608.06993.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>与ResNet类似，所有层更加稠密的联系。</td>
</tr>
<tr>
<td><strong>MobileNets</strong></td>
<td><code>2017</code></td>
<td><em>MobileNets: Efficient Convolutional Neural Networks for Mobile Vision Applications</em></td>
<td><a href="https://arxiv.org/pdf/1704.04861.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>DilatedConv</strong></td>
<td><code>ICLR 2016</code></td>
<td><em>MULTI-SCALE CONTEXT AGGREGATION BY DILATED CONVOLUTIONS</em></td>
<td><a href="https://arxiv.org/pdf/1511.07122.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="RNN"><a href="#RNN" class="headerlink" title="RNN"></a>RNN</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="Unsupervised-Learning"><a href="#Unsupervised-Learning" class="headerlink" title="Unsupervised Learning"></a>Unsupervised Learning</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="GAN"><a href="#GAN" class="headerlink" title="GAN"></a>GAN</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>GAN</strong></td>
<td><code>2014</code></td>
<td><em>Generative Adversarial Nets</em></td>
<td><a href="http://papers.nips.cc/paper/5423-generative-adversarial-nets.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>创新性思维，通过2个网络相互对抗的形式来训练，分别得到鉴别网络和生成网络。</td>
</tr>
<tr>
<td><strong>LSGANs</strong></td>
<td><code>2016</code></td>
<td><em>Least Squares Generative Adversarial Networks</em></td>
<td><a href="https://arxiv.org/pdf/1611.04076v2.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>WGAN</strong></td>
<td><code>2017</code></td>
<td><em>Wasserstein GAN</em></td>
<td><a href="https://arxiv.org/pdf/1701.07875v1.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="Reinforcement-Learning"><a href="#Reinforcement-Learning" class="headerlink" title="Reinforcement Learning"></a>Reinforcement Learning</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h1 id="2-优化"><a href="#2-优化" class="headerlink" title="2.优化"></a>2.优化</h1><h2 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Dropout</strong></td>
<td><code>2014</code></td>
<td><em>Dropout: A Simple Way to Prevent Neural Networks from Overfitting</em></td>
<td><a href="http://jmlr.org/papers/volume15/srivastava14a/srivastava14a.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>Batch Normalization</strong></td>
<td><code>2015</code></td>
<td><em>Batch Normalization: Accelerating Deep Network Training by Reducing Internal Covariate Shift</em></td>
<td><a href="https://arxiv.org/pdf/1502.03167.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>Attention</strong></td>
<td><code>ICLR 2015</code></td>
<td><em>Neural Machine Translation by Jointly Learning to Align and Translate</em></td>
<td><a href="https://arxiv.org/pdf/1409.0473v2.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>首次提出Attention，用于及其翻译，展示了attention对源语目标的对其效果，解释深度模型到底学到了什么。由于后续提出的概念，这个attention被称为soft/global attention。</td>
</tr>
<tr>
<td><strong>hard attention相关</strong></td>
<td><code>ICML 2015</code></td>
<td><em>Show, Attend and Tell: Neural Image Caption Generation with Visual Attention</em></td>
<td><a href="https://arxiv.org/abs/1502.03044" target="_blank" rel="noopener">pdf</a></td>
<td>提出hard/soft attention的概念，在图像上的应用。</td>
</tr>
<tr>
<td><strong>local attention</strong></td>
<td><code>EMNLP 2015</code></td>
<td><em>Effective Approaches to Attention-based Neural Machine Translation</em></td>
<td><a href="https://arxiv.org/pdf/1508.04025v3.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>提出global/local attention的概念，对Attention的变化，其中multiplicative attention结构被广泛使用。</td>
</tr>
<tr>
<td><strong>self-attention</strong></td>
<td>``</td>
<td><em>Hierarchical Attention Networks for Document Classification</em></td>
<td><a href="https://www.cs.cmu.edu/~hovy/papers/16HLT-hierarchical-attention-networks.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>transformer</strong></td>
<td><code>2017</code></td>
<td><em>Attention Is All You Need</em></td>
<td><a href="https://arxiv.org/pdf/1706.03762.pdf" target="_blank" rel="noopener">pdf</a></td>
<td>google提出的Transformer结构，完全摒弃递归结构，依赖注意力机制，可并行。（以往nlp中大量使用encoder-decoder结构，由于前后隐藏状态的依赖性，无法并行计算。）</td>
</tr>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="Optimization"><a href="#Optimization" class="headerlink" title="Optimization"></a>Optimization</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Adam</strong></td>
<td><code>ICLR 2014</code></td>
<td><em>ADAM: A METHOD FOR STOCHASTIC OPTIMIZATION</em></td>
<td><a href="https://arxiv.org/pdf/1412.6980.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="Loss-Function"><a href="#Loss-Function" class="headerlink" title="Loss Function"></a>Loss Function</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id><a href="#" class="headerlink" title="?"></a>?</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h1 id="3-应用"><a href="#3-应用" class="headerlink" title="3.应用"></a>3.应用</h1><h2 id="NLP"><a href="#NLP" class="headerlink" title="NLP"></a>NLP</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="Object-Detection"><a href="#Object-Detection" class="headerlink" title="Object Detection"></a>Object Detection</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>-</strong></td>
<td><code>2013</code></td>
<td><em>Deep Neural Networks for Object Detection</em></td>
<td><a href="http://papers.nips.cc/paper/5207-deep-neural-networks-for-object-detection.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>RCNN</strong></td>
<td><code>CVPR 2014</code></td>
<td><em>Rich feature hierarchies for accurate object detection and semantic segmentation</em></td>
<td><a href="https://www.cv-foundation.org/openaccess/content_cvpr_2014/papers/Girshick_Rich_Feature_Hierarchies_2014_CVPR_paper.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>SPPNet</strong></td>
<td><code>2014</code></td>
<td><em>Spatial Pyramid Pooling in Deep Convolutional Networks for Visual Recognition</em></td>
<td><a href="https://arxiv.org/pdf/1406.4729.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>Fast R-CNN</strong></td>
<td><code>IEEE 2015</code></td>
<td><em>Fast R-CNN</em></td>
<td><a href="https://arxiv.org/pdf/1504.08083.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>Faster R-CNN</strong></td>
<td><code>2015</code></td>
<td><em>Faster R-CNN: Towards Real-Time Object Detection with Region Proposal Networks</em></td>
<td><a href="https://arxiv.org/pdf/1506.01497.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>YOLO</strong></td>
<td><code>2015</code></td>
<td><em>You Only Look Once: Unified, Real-Time Object Detection</em></td>
<td><a href>pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>SSD</strong></td>
<td><code>2015</code></td>
<td><em>SSD: Single Shot MultiBox Detector</em></td>
<td><a href="https://arxiv.org/pdf/1512.02325.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>R-FCN</strong></td>
<td><code>2016</code></td>
<td><em>R-FCN: Object Detection via Region-based Fully Convolutional Networks</em></td>
<td><a href="https://arxiv.org/pdf/1605.06409.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><strong>Mask R-CNN</strong></td>
<td><code>2017</code></td>
<td><em>Mask R-CNN</em></td>
<td><a href="https://arxiv.org/pdf/1703.06870.pdf" target="_blank" rel="noopener">pdf</a></td>
<td></td>
</tr>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="face"><a href="#face" class="headerlink" title="face"></a>face</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<h2 id="VQA"><a href="#VQA" class="headerlink" title="VQA"></a>VQA</h2><div class="table-container">
<table>
<thead>
<tr>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
<th>.</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>**</em></td>
<td>``</td>
<td>**</td>
<td><a href>pdf</a></td>
<td></td>
</tr>
</tbody>
</table>
</div>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/01/note/book-list-readed/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="dejiang">
      <meta itemprop="description" content="你根本不知道你什么都不知道">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="枫の故事">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/2019/08/01/note/book-list-readed/" class="post-title-link" itemprop="url">book list - readed</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-08-01 00:00:00" itemprop="dateCreated datePublished" datetime="2019-08-01T00:00:00+08:00">2019-08-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-12-26 14:34:40" itemprop="dateModified" datetime="2019-12-26T14:34:40+08:00">2019-12-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/note/" itemprop="url" rel="index">
                    <span itemprop="name">note</span>
                  </a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <div class="minder-view" minder-data-type="json" style="width:100%; height:10000px;">
{"root":{"data":{"id":"134b381888bd","created":1566956099,"text":"书单"},"children":[{"data":{"id":"bwkvl51dr2g0","created":1566956122502,"text":"C/C++"},"children":[{"data":{"id":"bwkvrtb4c9s0","created":1566956645518,"text":"C Primer Plus","image":"http://kityminder-img.gz.bcebos.com/fe3b13e9b49bd6afe72e5b7c76bbe3cc41b66719","imageTitle":"","imageSize":{"width":142,"height":200}},"children":[]},{"data":{"id":"bwkvrxgay480","created":1566956654539,"text":"C++ Primer Plus","image":"http://kityminder-img.gz.bcebos.com/3c39e5b69f99e4963d890689f541ea2370bda229","imageTitle":"","imageSize":{"width":142,"height":200}},"children":[]}]},{"data":{"id":"bwkvl8wkzb40","created":1566956130919,"text":"代码"},"children":[{"data":{"id":"bxbid19rhd6o","created":1569660931789,"text":"图解设计模式","image":"http://kityminder-img.gz.bcebos.com/81b9215dce3160b4a24a2a0072321d89c7bf5692","imageTitle":"","imageSize":{"width":142,"height":200}},"children":[]}]},{"data":{"id":"bwkvle1arz40","created":1566956142088,"text":"Java","expandState":"expand"},"children":[{"data":{"id":"bwkvmbwcn5c0","created":1566956215799,"text":"Java基础","expandState":"expand"},"children":[{"data":{"id":"bwkvscyv1zc0","created":1566956688313,"text":"Java 8编程参考官方教程(第9版)","image":"http://kityminder-img.gz.bcebos.com/3597d69f5d304174e857e7ebf01f84aece30c0a6","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvt1divvk0","created":1566956741442,"text":"码农翻身","image":"http://kityminder-img.gz.bcebos.com/d74d3a9f8e68aa00c41073c80d026f24ac15e78c","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]}]},{"data":{"id":"bwkvme9xzk00","created":1566956220975,"text":"JVM"},"children":[{"data":{"id":"bwkvst045ww0","created":1566956723217,"text":"深入理解Java虚拟机：JVM高级特性与最佳实践（第2版）","image":"http://kityminder-img.gz.bcebos.com/d5531736ca642d7e77626568a9a906fe8f6a637d","imageTitle":"","imageSize":{"width":153,"height":200}},"children":[]}]},{"data":{"id":"bwkvli75q3k0","created":1566956151149,"text":"Spring"},"children":[{"data":{"id":"bwkvtp4air40","created":1566956793127,"text":"Spring实战（第4版）","image":"http://kityminder-img.gz.bcebos.com/6848bcf18ec91e0f97b7264eb6c8cccb7bbfcc34","imageTitle":"","imageSize":{"width":159,"height":200}},"children":[]},{"data":{"id":"bwkvtrd64680","created":1566956798017,"text":"Spring Boot实战","image":"http://kityminder-img.gz.bcebos.com/9641bef0ec2e185e6b76c6c26d4220fe6c312114","imageTitle":"","imageSize":{"width":159,"height":200}},"children":[]},{"data":{"id":"bwkvtuoor5k0","created":1566956805244,"text":"Spring微服务实战","image":"http://kityminder-img.gz.bcebos.com/dfee4134feef3b89dd5a5d31b6d0c5207b5e6e2a","imageTitle":"","imageSize":{"width":159,"height":200}},"children":[]},{"data":{"id":"bwkvtx90o9k0","created":1566956810827,"text":"Spring Data实战","image":"http://kityminder-img.gz.bcebos.com/271cd38418aafe495eaef59e53d454a459e870f8","imageTitle":"","imageSize":{"width":152,"height":200}},"children":[]}]},{"data":{"id":"bwkvlr83sg80","created":1566956170798,"text":"分布式"},"children":[{"data":{"id":"bwkvu8bucnk0","created":1566956834942,"text":"深入理解Nginx：模块开发与架构解析（第2版）","image":"http://kityminder-img.gz.bcebos.com/9a95a05c87ee92907bbaf6160e972ab3d8324e17","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvuavjqr40","created":1566956840487,"text":"深入浅出Docker","image":"http://kityminder-img.gz.bcebos.com/f305241a55947b9343bbd2461f5ca70e709e6bad","imageTitle":"","imageSize":{"width":159,"height":200}},"children":[]}]},{"data":{"id":"bwkvmwat62o0","created":1566956260209,"text":"其它"},"children":[{"data":{"id":"bwkvvezmc4o0","created":1566956927805,"text":"Mybatis技术内幕","image":"http://kityminder-img.gz.bcebos.com/2ecfae24d4e26c3e298ac36bf75ca65d24473d0d","imageTitle":"","imageSize":{"width":159,"height":200}},"children":[]}]}]},{"data":{"id":"bwkvlo4q6g00","created":1566956164063,"text":"数据库"},"children":[{"data":{"id":"bwkvu04lkow0","created":1566956817090,"text":"MySQL技术内幕：InnoDB存储引擎（第2版）","image":"http://kityminder-img.gz.bcebos.com/c1b83527c009f8c89ee5a119ece0ed0ba6588f0a","imageTitle":"","imageSize":{"width":133,"height":200}},"children":[]},{"data":{"id":"bwkvu56qpug0","created":1566956828103,"text":"Redis实战","image":"http://kityminder-img.gz.bcebos.com/80d8843d1e11bca2ff5aaa9841936f7df8faa0d9","imageTitle":"","imageSize":{"width":158,"height":200}},"children":[]}]},{"data":{"id":"bwkvlvgluls0","created":1566956180019,"text":"Python"},"children":[{"data":{"id":"bwkvugnt1pc0","created":1566956853080,"text":"Python并行编程参考手册","image":"http://kityminder-img.gz.bcebos.com/b9c1bf306b06837d1e1b6ae60d3d04fa913b0ce8","imageTitle":"","imageSize":{"width":153,"height":200}},"children":[]},{"data":{"id":"bwkvuibxhx40","created":1566956856715,"text":"Python高性能编程","image":"http://kityminder-img.gz.bcebos.com/68aa17db831e39d24121d0961dea22dc1894432f","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvukij5t40","created":1566956861468,"text":"Effective Python","image":"http://kityminder-img.gz.bcebos.com/4f7c939d73eeb118839ae3643aabe9f7b9baffca","imageTitle":"","imageSize":{"width":156,"height":200}},"children":[]},{"data":{"id":"bwkvuoyw1v40","created":1566956871164,"text":"自己动手写Python虚拟机","image":"http://kityminder-img.gz.bcebos.com/78d5638962bcfad452ad8487fea19e6a656e6f79","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]}]},{"data":{"id":"bwkvm16cav40","created":1566956192459,"text":"go","expandState":"expand"},"children":[{"data":{"id":"bxboiht39uo0","created":1569678286267,"text":"Go语言实战","expandState":"expand","image":"http://kityminder-img.gz.bcebos.com/488f7db5c0d687c99239b5d41c01c7b594980b0f","imageTitle":"","imageSize":{"width":159,"height":200}},"children":[]}]},{"data":{"id":"bwkvn7ojogw0","created":1566956284984,"text":"系统"},"children":[{"data":{"id":"bwkvvv05w8w0","created":1566956962666,"text":"鸟哥的Linux私房菜 基础学习篇 第四版","image":"http://kityminder-img.gz.bcebos.com/089b1c7443f53140799f38c67d58df069379e339","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvw1k6n680","created":1566956976937,"text":"编译原理（第2版）","image":"http://kityminder-img.gz.bcebos.com/790f4f21df0a786b3e1aff511276907519be1f06","imageTitle":"","imageSize":{"width":149,"height":200}},"children":[]},{"data":{"id":"bwkx8ygs7j40","created":1566960810046,"text":"操作系统 精髓与设计原理 ","image":"http://kityminder-img.gz.bcebos.com/725f016d7d2fb94e76e0d767823d7ee12f87b049","imageTitle":"","imageSize":{"width":142,"height":200}},"children":[]},{"data":{"id":"bwkxe90y5vc0","created":1566961224853,"text":"计算机组成(第6版)","image":"http://kityminder-img.gz.bcebos.com/726c685d05c6ed58c9c3bf46ad44dace3a000aca","imageTitle":"","imageSize":{"width":142,"height":200}},"children":[]},{"data":{"id":"bwkxfqmzv6w0","created":1566961341556,"text":"计算机网络(第6版)","image":"http://kityminder-img.gz.bcebos.com/57d5798a51745f0ccdbec72181ad0fb5fe0c0055","imageTitle":"","imageSize":{"width":138,"height":200}},"children":[]}]},{"data":{"id":"bwkvnwvycmo0","created":1566956339852,"text":"网络"},"children":[{"data":{"id":"bwkvwcis9000","created":1566957000797,"text":"图解HTTP","image":"http://kityminder-img.gz.bcebos.com/50874fc99ba25f44426534c1002e17ed63022775","imageTitle":"","imageSize":{"width":138,"height":200}},"children":[]},{"data":{"id":"bwkvwesvajs0","created":1566957005761,"text":"图解TCP/IP：第5版","image":"http://kityminder-img.gz.bcebos.com/665c74c1ddfa98c45a309d5ea046e60419844e54","imageTitle":"","imageSize":{"width":142,"height":200}},"children":[]}]},{"data":{"id":"bwkvnyvyw8o0","created":1566956344206,"text":"算法"},"children":[{"data":{"id":"bwkvwh36ho00","created":1566957010738,"text":"数据结构与算法分析：C语言描述","image":"http://kityminder-img.gz.bcebos.com/021b23779cd82851985e3347dc887011d1eb8df0","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvwjecqjc0","created":1566957015767,"text":"算法导论","image":"http://kityminder-img.gz.bcebos.com/f250d3b4392617434509f7e7022b865d4f33c17c","imageTitle":"","imageSize":{"width":151,"height":200}},"children":[]},{"data":{"id":"bwkvwlgyya80","created":1566957020279,"text":"算法竞赛入门经典（第2版）","image":"http://kityminder-img.gz.bcebos.com/6867bf5cdedba9cdf832745b3d97d70b6e9e9ae4","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvwmvvrw00","created":1566957023358,"text":"算法竞赛入门经典 训练指南","image":"http://kityminder-img.gz.bcebos.com/f095bab9c7f6ae27f54915ff7d8cc00700809eba","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvwpdg4w80","created":1566957028773,"text":"算法图解","image":"http://kityminder-img.gz.bcebos.com/1424a93d83a888ab03a018d224d11c45c0a70554","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvwqwi3080","created":1566957032102,"text":"漫画算法：小灰的算法之旅","image":"http://kityminder-img.gz.bcebos.com/5ca50dc902a819f7316a9dcaba64d461daca3ccf","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]}]},{"data":{"id":"bwkvo1hk2pk0","created":1566956349865,"text":"机器学习"},"children":[{"data":{"id":"bwkvwubm7f40","created":1566957039546,"text":"机器学习","image":"http://kityminder-img.gz.bcebos.com/31877ff7126872f2f560b4c168e058a2d553ee99","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvwvpirvk0","created":1566957042564,"text":"Python神经网络编程","image":"http://kityminder-img.gz.bcebos.com/d2211092ac9a0f99293af2f06474f22e0d6eaaa8","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvwxnwv680","created":1566957046820,"text":"TensorFlow：实战Google深度学习框架（第2版）","image":"http://kityminder-img.gz.bcebos.com/1cdea519b73766fd2cb5870111a0ea48e2485744","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvwzwic140","created":1566957051693,"text":"深度学习框架PyTorch：入门与实践","image":"http://kityminder-img.gz.bcebos.com/7c284e0f06efa3aad2616a1b5943d71e4585f51a","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvx1alc140","created":1566957054722,"text":"生成对抗网络入门指南","image":"http://kityminder-img.gz.bcebos.com/1290e73cfef8f998c36574adcd86234da9aaea03","imageTitle":"","imageSize":{"width":200,"height":200}},"children":[]},{"data":{"id":"bwkvx37npmw0","created":1566957058898,"text":"深度学习","image":"http://kityminder-img.gz.bcebos.com/407d622d6b1e4589fd439cea365046bad19f1dbd","imageTitle":"","imageSize":{"width":166,"height":200}},"children":[]},{"data":{"id":"bwkvx4jszao0","created":1566957061809,"text":"机器学习实战","image":"http://kityminder-img.gz.bcebos.com/388d614a84efad18829fb359a11ac62eb3d6f784","imageTitle":"","imageSize":{"width":159,"height":200}},"children":[]},{"data":{"id":"bwkvx6cvzzs0","created":1566957065744,"text":"统计学习方法（第2版）","image":"http://kityminder-img.gz.bcebos.com/c57b6c3a6642c028d824fa742ecb8f0f307dfa04","imageTitle":"","imageSize":{"width":153,"height":200}},"children":[]},{"data":{"id":"bxt7u2ytjg80","created":1571459314683,"text":"百面机器学习","image":"https://kityminder-img.gz.bcebos.com/58ec3b64e87b007a93fdd6491a3418d34fde37ea","imageTitle":"","imageSize":{"width":147,"height":200}},"children":[]}]},{"data":{"id":"bym6w4b7yr40","created":1574401891972,"text":"Robot"},"children":[{"data":{"id":"bym6w6h5clk0","created":1574401896684,"text":"ROS_Robot_Programming","image":"https://kityminder-img.gz.bcebos.com/1d7da4981e34d5880256edef7d8f6a1f912bef27","imageTitle":"","imageSize":{"width":156,"height":200}},"children":[]}]}]},"template":"default","theme":"snow-compact","version":"1.4.43"}
</div>

<script type="text/javascript" src="https://unpkg.com/kity"></script>
<script type="text/javascript" src="https://unpkg.com/kityminder-core"></script>
<script type="text/javascript" src="https://unpkg.com/jquery"></script>

<script type="text/javascript">
        // 创建 km 实例
        /* global kityminder */
        var km = new kityminder.Minder();
        km.setup('.minder-view');
        km.disable();
        km.execCommand('hand');
        $(".km-receiver").remove()
</script>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="dejiang"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">dejiang</p>
  <div class="site-description" itemprop="description">你根本不知道你什么都不知道</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">30</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wwstory" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wwstory" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:1018472917@qq.com" title="E-Mail → mailto:1018472917@qq.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-qq"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.cnblogs.com/maplesnow" title="cnblogs → https:&#x2F;&#x2F;www.cnblogs.com&#x2F;maplesnow" rel="noopener" target="_blank"><i class="fa fa-fw fa-cnblogs"></i>cnblogs</a>
      </span>
  </div>

<!-- old nav -->
<!--
<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
-->



      </div>

      <!-- nav -->
      <nav class="site-nav">
        
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

      </nav>

      <!-- music player -->
      <div>
        
          <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=0&id=431226116&auto=0&height=32"></iframe>
        
      </div>

    </div>
  </aside>

  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">dejiang</span>
</div>

        








        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
















  

  

  

</body>
</html>
